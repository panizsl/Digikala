(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4810],{94346:function(e,t,n){"use strict";n.d(t,{S:function(){return g}});var o=n(47842),i=n(70865),r=n(96670),l=n(52322),s=n(2784),a=n(72677),d=n(5759),c=n(41435),u=n(87673),p=n(63541),f=n(50020),v=n(72610),x=n(90419),m=n(93008),g=(0,s.memo)(function(e){var t=e.itemComponent,n=e.items,g=void 0===n?[]:n,h=e.pager,j=e.fetchPage,C=e.resetItems,w=e.pending,S=e.itemsPerRow,O=void 0===S?3:S,b=e.spaceBetween,N=void 0===b?0:b,y=e.header,_=e.itemClassName,I=e.itemHasBorder,k=void 0===I||I,P=e.borderBottomClassName,M=e.disableBorderForLastRow,F=e.rowCount,T=e.borderLeftClassName,Z=e.queryParams,A=e.isAPIDataChangedRef,L=e.hidePagination,B=e.disablePagination,H=e.lazyLoadOffsetPage,D=void 0===H?m.yo:H,E=(0,s.useRef)(),R=(0,d.h)(null==Z?void 0:Z.page),W=w&&(R||A.current||(0,c.x)(g)),z=(null==h?void 0:h.pagerCurrentPage)<(null==h?void 0:h.pagerTotalPages);(0,u.S)({target:E,onIntersect:function(){!R&&((null==h?void 0:h.pagerCurrentPage)<D||L)&&(null==j||j((null==h?void 0:h.pagerCurrentPage)+1))},enabled:z&&!w&&!B});var J=function(e,t){var n;return(0,a.d)((n={},(0,o.Z)(n,P||"border-b",k&&(!M||F-1!==t)),(0,o.Z)(n,T||"border-l",k&&O>1&&((e+1)%O!=0||0===e)),n),_)},q=function(e){return O>1&&((e+1)%O!=0||0===e)?{marginLeft:N}:{}},G=(0,s.useRef)((0,p.EL)()),K=(0,s.useMemo)(function(){return Object.values(g).flat()},[g]),Y=K.length,X=(0,s.useCallback)(function(e){var n=K[e]||{id:(0,p.EL)(),isSkeleton:!0};return(0,f.k)(n)?null:(0,l.jsx)(t,(0,i.Z)({itemIndex:e},n))},[t,g]);return(0,l.jsxs)("div",{className:"d-flex h-full flex-column",children:[(0,l.jsxs)("div",{id:G.current,children:[y&&(0,l.jsx)("div",{className:(0,a.d)("w-full",J(0,0)),children:y}),(0,l.jsx)("div",{className:"d-flex flex-wrap",children:W?Array.from({length:20}).map(function(e,n){return(0,l.jsx)("div",{style:(0,i.Z)({width:"calc(".concat(100/O,"% - ").concat(N,"px)"),marginBottom:N},q(n)),className:J(n),children:(0,l.jsx)(t,{pending:!0})},n)}):Array.from({length:Y}).map(function(e,t){return(0,l.jsx)("div",{style:(0,i.Z)({width:"calc(".concat(100/O,"% - ").concat(N,"px)"),marginBottom:N},q(t)),className:J(t),children:X(t)},t)})})]}),!B&&!R&&((null==h?void 0:h.pagerCurrentPage)<D||L)&&z&&(0,l.jsx)("div",{className:"w-full py-4 d-flex ai-center jc-center",ref:E,children:(0,l.jsx)(v.g,{size:"24"})}),!L&&!B&&(0,l.jsx)(x.t,(0,r.Z)((0,i.Z)({clickAction:function(e){null==C||C({page:e,updatePageParam:!0})}},h||{}),{className:(0,a.d)({"d-none":!((null==h?void 0:h.pagerCurrentPage)>=D||R)})}))]})})},36637:function(e,t,n){"use strict";n.d(t,{_:function(){return u}});var o=n(70865),i=n(26297),r=n(52322),l=n(2784),s=n(89683),a=n(26967),d=n(96057),c=n(99896);function u(e){var t=e.pending,n=(0,i.Z)(e,["pending"]),u=(0,s.C)().windowWidth,p=(0,l.useMemo)(function(){return u<a.SM?c.p:d.b},[u]);return(0,r.jsx)(p,(0,o.Z)({isDigiplusBadges:!0,isSkeleton:t,productTitleTag:"h2"},n))}},98564:function(e,t,n){"use strict";n.d(t,{Y:function(){return E}});var o=n(70865),i=n(96670),r=n(52322),l=n(2784),s=n(94346),a=n(1958),d=n(36637),c=n(41435),u=n(89683),p=n(92886),f=n(92376),v=n(68437),x=n(20995);function m(e){var t=e.isOpen,n=e.pending,l=void 0!==n&&n,s=e.isClub,a=e.activeFilters,d=e.filters,m=void 0===d?{}:d,g=e.onClose,h=e.onClear,j=e.onChange,C=e.filterExtra,w=e.pager,S=e.className,O=e.hasFilter,b=e.category,N=(0,u.C)().isDesktop,y=l&&(0,c.x)(m),_=!N&&!(null==C?void 0:C.isOpen),I={category:b,filters:m,activeFilters:void 0===a?{}:a,onClear:h,onChange:j,filterExtra:C,hasFilter:O,className:S};return N?y?(0,r.jsx)(p.Z,{}):(0,r.jsx)(f.e,(0,o.Z)({},I)):(0,r.jsx)(v.gs,(0,i.Z)((0,o.Z)({isFullScreen:!0,pending:l,isClub:void 0!==s&&s,isOpen:void 0!==t&&t,onClose:g,header:(0,r.jsxs)("div",{className:"d-flex ai-center jc-between",children:[(0,r.jsx)(x.d,{isRoot:_,onClick:_?g:function(){return null==j?void 0:j({isAccordion:!0,filterKey:null==C?void 0:C.filterKey})}}),(0,r.jsx)("div",{className:"grow-1",children:_?"فیلترها":null==C?void 0:C.filterTitle}),_&&O?(0,r.jsx)("div",{className:"color-secondary-500 text-button-2 pointer",onClick:h,children:"حذف فیلتر‌ها"}):null]}),onFooterClick:g},void 0===w?{}:w),{children:(0,r.jsx)(f.e,(0,i.Z)((0,o.Z)({},I),{onClose:g}))}))}var g=n(26967),h=n(93008),j=n(73092),C=n(57931),w=n(98780),S=n(72610),O=n(13980),b=n.n(O),N=n(82332);function y(e){var t=e.isOpen,n=e.onClose,o=e.onSortOptionClick,i=e.pagerTotalItems,l=e.sortOptions,s=e.sortDefaultOptionId,a=e.activeSortId,d=void 0===a?s:a,c=e.pending;return(0,r.jsx)(v.gs,{className:"w-full hide-scrollbar",pagerTotalItems:i,header:(0,r.jsxs)("div",{className:"d-flex ai-center jc-between",children:[(0,r.jsx)(w.J,{icon:"close",className:"ml-5 ml-0-lg",onClick:n}),(0,r.jsx)("div",{className:"grow-1 text-h4",children:" مرتب سازی بر اساس"})]}),isOpen:t,onClose:n,childrenClassName:"py-0 py-4-lg px-5",pending:c,children:(void 0===l?[]:l).map(function(e,t,n){var i=e.sortOptionTitle,l=e.sortOptionId;return(0,r.jsx)(v.$Y,{title:i,isChecked:(0,N.t)(l,d),isBordered:t!==n.length-1,onClick:function(){return null==o?void 0:o({sortOptionId:l})}},l)})})}y.propTypes={isOpen:b().bool,onClose:b().func,onChange:b().func,total:b().number,count:b().number,selected:b().oneOfType([b().string,b().number])};var _=n(63541),I=n(89086),k=n(72762),P=n(72677),M=n(50020),F=n(75078),T=n.n(F);function Z(e){var t=e.showTotalInBellow,n=void 0!==t&&t,i=e.hasActiveFilter,s=e.pagerTotalItems,a=void 0===s?0:s,d=e.title,c=e.hideFilter,p=e.sortOptions,f=void 0===p?[]:p,v=e.onSortOptionClick,x=void 0===v?_.ZT:v,m=e.onSortModalOpen,g=void 0===m?_.ZT:m,h=e.onSortModalClose,j=void 0===h?_.ZT:h,C=e.isSortModalOpen,O=e.onFilterModalOpen,b=void 0===O?_.ZT:O,I=e.sortDefaultOptionId,M=e.activeSortId,F=void 0===M?I:M,Z=e.pending,H=(0,u.C)().isDesktop,D=(0,l.useMemo)(function(){var e;return null===(e=null==f?void 0:f.find(function(e){return(0,N.t)(e.sortOptionId,F)}))||void 0===e?void 0:e.sortOptionTitle},[F,I])||"مرتب‌سازی";return H?(0,r.jsxs)("div",{className:"user-select-none d-flex flex-row ai-center jc-center border-b-200 py-3",children:[(0,r.jsxs)("div",{className:(0,P.d)("d-inline-flex ai-center color-700 text-body2-strong text-no-wrap",{"ml-5":(null==f?void 0:f.length)<=5,"ml-2":(null==f?void 0:f.length)>5}),children:[(0,r.jsx)(w.J,{className:"ml-2",icon:"sort",size:"24"}),H?"مرتب سازی:":D]}),(0,r.jsx)("div",{className:(0,P.d)("d-inline-flex ai-center jc-start grow-1 gap-x-4",T().SortAndStatsHeader__desktopSortOptions),children:null==f?void 0:f.map(function(e){return(0,r.jsx)(A,(0,o.Z)({activeSortId:F,onClick:x,sortDefaultOptionId:I},e),e.sortOptionId)})}),!!a&&n&&(0,r.jsx)("div",{className:"color-500 d-flex ai-center jc-between py-0",children:(0,r.jsxs)("div",{className:"text-no-wrap text-body-2 ellispis-1 d-flex-xl ai-center gap-2",children:[Z?(0,r.jsx)(S.g,{}):(0,k.j)(a,!0)," کالا"]})}),!n&&!!a&&(0,r.jsxs)("div",{className:"d-none d-flex-xl ai-center color-500 text-body-2 gap-2",children:[Z?(0,r.jsx)(S.g,{}):(0,k.j)(a,!0)," کالا"]})]}):(0,r.jsxs)("div",{className:"user-select-none d-flex flex-column ai-start jc-stretch",children:[(0,r.jsx)(y,{isOpen:void 0!==C&&C,onClose:j,onSortOptionClick:x,pagerTotalItems:a,sortOptions:f,activeSortId:F,sortDefaultOptionId:I,pending:Z}),(0,r.jsxs)("div",{className:(0,P.d)("d-flex ai-center jc-start gap-4 grow-1 border-b-200 w-full pt-3 pb-1"),children:[!(void 0!==c&&c)&&(0,r.jsx)(L,{onClick:b,hasFilter:void 0!==i&&i,removePadding:!H}),(0,r.jsx)(B,{title:D,onClick:g})]}),!!a&&n&&(0,r.jsxs)("div",{className:"color-500 d-flex ai-center jc-between w-full pt-3",children:[(0,r.jsx)("div",{className:"grow-1 d-none-lg text-body1-strong",children:d||"همه کالاها"}),(0,r.jsxs)("div",{className:"text-no-wrap text-body-2 ellispis-1 d-flex ai-center gap-2",children:[Z?(0,r.jsx)(S.g,{}):(0,k.j)(a,!0)," کالا"]})]}),!n&&!!a&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"color-500 d-flex ai-center jc-between w-full pt-3",children:[(0,r.jsx)("div",{className:"grow-1 text-body1-strong",children:d||"همه کالاها"}),(0,r.jsxs)("div",{className:"text-no-wrap text-body-2 ellispis-1 d-flex ai-center gap-2",children:[Z?(0,r.jsx)(S.g,{}):(0,k.j)(a,!0)," کالا"]})]})})]})}function A(e){var t=e.sortOptionTitle,n=e.sortDefaultOptionId,l=e.activeSortId,s=e.sortOptionId,a=e.onClick,d=(0,N.t)(s,void 0===l?n:l),c=(0,P.d)("pointer text-no-wrap",{"text-body-2 color-500":!d,"text-body2-strong color-primary-700":d},T().SortAndStatsHeader__SortOption);return(0,r.jsx)("div",(0,i.Z)((0,o.Z)({},(0,I.t6)("plp-sort-option")),{className:c,onClick:function(){a({sortOptionId:s})},children:t}))}function L(e){var t=e.onClick,n=e.hasFilter,o=e.removePadding;return(0,M.k)(t)?null:(0,r.jsxs)(C.z,{mode:"text",onClick:t,color:"lightGray",className:"text-subtitle-strong pos-relative color-700",removePadding:void 0!==o&&o,icon:!0,children:[n&&(0,r.jsx)("span",{className:(0,P.d)("bg-p-700 radius-circle pos-absolute right-0 top-0",T().SortAndStatsHeader__indicator)}),(0,r.jsx)(w.J,{icon:"filter",size:"24",className:"ml-2"})," فیلتر"]})}function B(e){var t=e.onClick,n=e.title;return(0,r.jsxs)(C.z,{mode:"link",onClick:t,color:"lightGray",className:(0,P.d)("text-subtitle-strong pos-relative  color-700"),icon:!0,children:[(0,r.jsx)(w.J,{icon:"sort",size:"24",className:"ml-2"}),n]})}var H=n(94111),D=n.n(H);function E(e){var t,n,p,f,v,x,C,w,S,O,b,N,y,_,I,k,M,F,T,A,L=e.hidePagination,B=e.pager,H=e.pending,E=e.title,R=e.columnWidth,W=void 0===R?h.TO.LIST():R,z=e.container,J=void 0===z?g.CONTAINER_ENUM.XL4:z,q=e.enablePagination,G=e.wrappedInModal,K=e.itemComponent,Y=void 0===K?d._:K,X=e.emptyComponent,Q=void 0===X?(0,r.jsx)(j.T,{}):X,U=e.rightColumnSlot,$=e.leftColumnSlot,V=e.stickySlot,ee=e.hasError,et=e.hideFilter,en=e.hideSortHeader,eo=e.itemHasBorder,ei=e.spaceBetween,er=e.className,el=e.fetchPage,es=e.hasNextPage,ea=e.resetItems,ed=e.category,ec=e.items,eu=void 0===ec?[]:ec,ep=e.filters,ef=void 0===ep?[]:ep,ev=e.sort,ex=e.activeFilters,em=e.filterExtra,eg=e.filterOnClick,eh=e.filterClear,ej=e.filterIsModalOpen,eC=e.filterOpenModal,ew=e.filterCloseModal,eS=e.submittedSortId,eO=e.sortOnClick,eb=e.sortIsModalOpen,eN=e.sortOpenModal,ey=e.sortCloseModal,e_=e.hasFilter,eI=e.queryParams,ek=e.showStatsInLineBellow,eP=e.isAPIDataChangedRef,eM=(p=void 0===(n=(t={columnWidth:W,container:J,withFilter:!et,wrappedInModal:G}).columnWidth)?h.TO.LIST():n,v=void 0===(f=t.container)?g.XL4:f,x=t.withFilter,C=t.wrappedInModal,S=(w=(0,u.C)()).windowWidth,O=w.isDesktop,b=S>=g.LG,y=(N={columnWidth:p,container:g[v],isDesktop:O,windowWidth:S,withFilter:(void 0===x||x)&&b,wrappedInModal:void 0!==C&&C}).columnWidth,_=N.isDesktop,I=N.container,k=N.windowWidth,M=N.withFilter,T=(F=N.wrappedInModal?_?800:1*k:k)>=I?I:F-40,(A=Math.floor((M?T-320:T)/y))>0?A:1),eF=(0,c.x)(ef)&&!H||et,eT=eF&&(0,c.x)(eu)&&!H||en,eZ=(0,l.useMemo)(function(){return(0,c.x)(Object.values(eu).flat())},[eu]),eA={mainContainer:(0,P.d)("pos-relative w-full d-flex flex-column flex-row-lg ai-center ai-stretch-lg jc-between",D().plplayout,er),filterContainer:(0,P.d)("d-none d-flex-lg flex-column",D().plplayout__filter)};return(0,r.jsxs)("div",{id:"plpLayoutContainer",className:eA.mainContainer,children:[(0,r.jsx)("section",{className:"w-full grow-1 pos-relative",children:(eZ||ee)&&!H?Q:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[$,!eT&&(0,r.jsx)(Z,(0,i.Z)((0,o.Z)({},void 0===ev?{}:ev,B),{hasActiveFilter:!(0,c.x)(ex),title:E,hideFilter:et,activeSortId:eS,onSortOptionClick:eO,onSortModalOpen:eN,onSortModalClose:ey,isSortModalOpen:eb,onFilterModalOpen:eC,showTotalInBellow:ek,pending:H}))]}),(0,r.jsx)(s.S,{itemComponent:Y,items:eu,pager:B,useWindowScroll:!0,hasNextPage:es,fetchPage:el,hidePagination:L,resetItems:ea,itemsPerRow:eM,pending:H,enablePagination:void 0!==q&&q,queryParams:eI,isAPIDataChangedRef:eP,itemHasBorder:eo,spaceBetween:ei,lazyLoadOffsetPage:h.yo})]})}),!eF&&(0,r.jsxs)("section",{className:eA.filterContainer,children:[U,(0,r.jsxs)(a.L,{enabled:!(0,c.x)(ef),bottomBoundary:"#plpLayoutContainer",children:[V,(0,r.jsx)(m,{isOpen:ej,pending:H,activeFilters:ex,filters:ef,onClose:ew,onClear:eh,onChange:eg,pager:B,filterExtra:em,hasFilter:e_,category:ed}),(0,r.jsx)("div",{className:"py-3"})]})]})]})}},87673:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var o=n(2784);function i(e){var t=e.root,n=e.target,i=e.onIntersect,r=e.threshold,l=void 0===r?.7:r,s=e.rootMargin,a=void 0===s?"0px":s,d=e.enabled,c=void 0===d||d,u=(0,o.useRef)(i);(0,o.useEffect)(function(){u.current=i},[i]),(0,o.useEffect)(function(){if(c){var e=new IntersectionObserver(function(e){return e.forEach(function(e){var t;return e.isIntersecting&&(null===(t=u.current)||void 0===t?void 0:t.call(u))})},{root:t&&t.current,rootMargin:a,threshold:l}),o=n&&n.current;if(o)return e.observe(o),function(){e.unobserve(o)}}},[n.current,c])}},94111:function(e){e.exports={plplayout:"plpLayout_plplayout__I_2f3",plplayout__filter:"plpLayout_plplayout__filter__P_T_o"}},75078:function(e){e.exports={SortAndStatsHeader__desktopSortOptions:"sortAndStatsHeader_SortAndStatsHeader__desktopSortOptions__lFY3_",SortAndStatsHeader__SortOption:"sortAndStatsHeader_SortAndStatsHeader__SortOption__0TLKu",SortAndStatsHeader__indicator:"sortAndStatsHeader_SortAndStatsHeader__indicator__xQJ2A"}}}]);