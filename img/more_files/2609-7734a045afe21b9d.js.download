"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2609],{82609:function(e,t,n){n.d(t,{L:function(){return Q}});var r=n(70865),i=n(96670),a=n(2784),o=n(47842),u=n(26297),l=n(66383),s=n(50930),f=n(23945),d=n(41435),c=n(12694),v=n(5759),p=n(29890),Z=n(14529),g=n(50020),m=n(72873),h=n(81742),P=n(49174),O=n(91279),y=n(53091),C=n(5632),S={},M={items:S,pages:S,data:{},fetched:!1};function I(e){var t,n,a,l,s,c=e.oldData,v=c.items,m=c.data,h=c.pages,P=e.newPage,O=e.itemsKey,y=(null==P?void 0:null===(s=P.pager)||void 0===s?void 0:s.pagerCurrentPage)||1;return{items:(0,i.Z)((0,r.Z)({},void 0===v?S:v),(0,o.Z)({},y,(null==P?void 0:P[O])||[])),data:(n=(t={data:P,itemsKey:O,oldData:m}).data,a=t.itemsKey,l=t.oldData,!(0,Z.K)(n)||(0,p.k)(n)||(0,g.k)(n)||(0,d.x)(n)?l:(n[a],(0,u.Z)(n,[a].map(f.Z)))),pages:(0,i.Z)((0,r.Z)({},void 0===h?S:h),(0,o.Z)({},y,y)),fetched:!(0,g.k)(P)}}var x=n(70423),R=n(82332),w=n(45162),K=n(10896),k=n(74740),E=n(35929),D=n(24606),T={isOpen:!1,filterKey:null,filterTitle:null,filterItem:null},F={};function Q(e){var t,n,Q,b,H,A,V,q,N,U,B,L,X,_,j,Y,z,G,W,$,J,ee,et,en,er,ei,ea,eo,eu,el,es,ef,ed,ec,ev,ep,eZ,eg,em,eh,eP,eO,ey,eC,eS,eM,eI,ex,eR,ew,eK,ek,eE,eD,eT,eF,eQ,eb,eH,eA,eV,eq,eN,eU,eB,eL,eX,e_,ej,eY,ez,eG,eW,e$,eJ,e0,e1,e2,e9,e4,e6,e7,e3,e5,e8,te,tt,tn,tr,ti,ta,to,tu,tl,ts,tf,td,tc,tv,tp=e.apiMethod,tZ=e.apiData,tg=e.disabled,tm=e.onSuccess,th=e.onError,tP=e.itemsKey,tO=e.isPagination,ty=e.defaultActiveFilters,tC=e.defaultActiveSort,tS=e.shouldSaveOnChange,tM=e.ssrData,tI=e.shouldScrollOnChange,tx=e.disableQueryParams,tR=e.getSSRMethods,tw=e.notHandledByUseSSR,tK=(Q=void 0===(n=(t={defaultActiveFilters:void 0===ty?{}:ty,defaultActiveSort:void 0===tC?null:tC,shouldSaveOnChange:tS,shouldScrollOnChange:tI,disableQueryParams:tx,isPagination:tO}).defaultActiveFilters)?F:n,b=t.shouldSaveOnChange,A=void 0===(H=t.shouldScrollOnChange)||H,V=t.disableQueryParams,q=function(e){var t,n=e.activeFilters,a=void 0===n?Q:n,u=e.shallow,l=e.fragment,s=(0,c.s)((0,i.Z)((0,r.Z)({},a),(t={},(0,o.Z)(t,h.uR,a[h.uR]||eo[h.uR]),(0,o.Z)(t,h.fH,eo[h.fH]),(0,o.Z)(t,h.tn,void 0),t)));eK({newUrl:(0,D.m)((0,K.K)({queries:s,url:window.location.pathname}),l),scroll:A,shallow:u})},N=function(){ep(!1)},U=function(e){var t=e.shallow;N(ef),q({activeFilters:ef,shallow:t})},B=function(){N()},L=function(){q({activeFilters:(0,o.Z)({},h.uR,ey)}),N()},X=function(){eM(!1)},_=function(){eh((0,i.Z)((0,r.Z)({},ef),(0,o.Z)({},h.uR,ey))),X()},j=function(){eh((0,i.Z)((0,r.Z)({},ef),(0,o.Z)({},h.uR,ey))),X()},Y=function(){ew(!1)},G=(z=(0,C.useRouter)()).asPath,W=z.push,$=z.replace,J=z.query,ee=z.pathname,et=z.isReady,z.events,er=(en=(0,l.Z)((0,a.useState)((0,r.Z)({},Q)),2))[0],ei=en[1],ea=(0,a.useRef)(!1),eo=(0,a.useMemo)(function(){return V?er:(0,w.Q)(G)},[G,er]),eu=(0,a.useMemo)(function(){eo[h.uR],eo[h.fH],eo[h.tn];var e=(0,u.Z)(eo,[h.uR,h.fH,h.tn].map(f.Z));return!(0,d.x)(e)},[eo]),el=(0,a.useMemo)(function(){return Object.entries(J).reduce(function(e,t){var n=(0,l.Z)(t,2),a=n[0],u=n[1];return -1!==ee.indexOf(a)?(0,i.Z)((0,r.Z)({},e),(0,o.Z)({},a,u)):(0,r.Z)({},e)},{})},[ee,J]),ef=(es=(0,l.Z)((0,a.useState)(Q),2))[0],ed=es[1],ev=(ec=(0,l.Z)((0,a.useState)(!1),2))[0],ep=ec[1],eg=(eZ=(0,l.Z)((0,a.useState)(T),2))[0],em=eZ[1],eh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return ed(function(){return(0,k.m)(e)?function(t){return(0,c.s)(e(t))}:(0,c.s)(e)})},eP=(0,a.useMemo)(function(){return!(0,y.X)(eo,ef)},[ef,eo]),eO=null==ef?void 0:ef[h.uR],ey=null==eo?void 0:eo[h.uR],eS=(eC=(0,l.Z)((0,a.useState)(!1),2))[0],eM=eC[1],eI=(0,a.useMemo)(function(){return!(0,R.t)(ey,eO)},[eO,ey]),eR=(ex=(0,l.Z)((0,a.useState)(!1),2))[0],ew=ex[1],eK=function(e){var t=e.newUrl,n=e.scroll,i=e.shallow,a=void 0===i||i,o=e.appendQuery;if(V){var u=(0,w.Q)(t);ei((0,r.Z)({},void 0!==o&&o?eo:F,u)),n&&x.NY.scrollToTop();return}ea.current?(ea.current=!0,n&&x.NY.scrollToTop(),W(t,void 0,{scroll:!!(null!=n?n:A),shallow:a})):$(t,void 0,{scroll:!!(null!=n?n:A),shallow:a})},ek=function(e){var t,n=e.query;eK({newUrl:(0,K.K)({queries:(t={},(0,o.Z)(t,h.fH,n),(0,o.Z)(t,h.tn,void 0),t),url:window.location.pathname}),scroll:!0})},eE=function(){eh((0,c.s)((0,r.Z)({},Q||F,eo)))},(0,a.useEffect)(function(){eE()},[G,er]),eD=(0,a.useMemo)(function(){return(0,E.S)(G)},[G]),{filterExtra:eg,activeFilters:ef,filterOnClick:function(e){var t=e.isAccordion,n=e.filterKey,i=e.filterItem,a=e.filterType,u=e.filterTitle,l=e.filterOptionId,f=e.filterOptionMax,c=e.filterOptionMin,v=e.filterOptionValueMin,p=e.filterOptionValueMax,m=e.shouldSendDataToServer,P=e.shallow;if(t){em(function(e){var t=e.isOpen,r=e.filterKey;return{isOpen:!(t&&(0,R.t)(n,r)),filterTitle:u,filterKey:n,filterItem:i}});return}var O=function(e){var t,n=e.filterKey,i=e.filterType,a=e.activeFilters,u=e.filterOptionId,l=e.filterOptionMin,f=e.filterOptionMax,c=e.filterOptionValueMin,v=e.filterOptionValueMax,p=(0,Z.K)(n),m=p?n.keyId:n,P=null==n?void 0:n.keyCode,O=(null==a?void 0:a[P])||F,y=p?null===(t=a[P])||void 0===t?void 0:t[m]:a[n];if((0,R.t)(h.kQ.CHECKBOX,i)){var C=function(e){var t=e.filterOptionId,n=e.filterItem,r=e.filterKey;if(null==n?void 0:null===(i=n.find)||void 0===i?void 0:i.call(n,function(e){return(0,R.t)(e,t)})){var i,a,u=null==n?void 0:null===(a=n.filter)||void 0===a?void 0:a.call(n,function(e){return!(0,R.t)(e,t)});return(0,o.Z)({},r,(0,d.x)(u)?void 0:u)}return(0,o.Z)({},r,(0,s.Z)(n||[]).concat([t]))}({filterItem:y,filterKey:m,filterOptionId:u});return(0,r.Z)({},a||F,p?(0,o.Z)({},P,(0,r.Z)({},O,C)):C)}if([h.kQ.RADIO,h.kQ.BUTTON].includes(i)){var S,M,I,x=(M=(S={filterItem:y,filterKey:n,filterOptionId:u}).filterKey,I=S.filterOptionId,(0,o.Z)({},M,I));return(0,r.Z)({},a||F,p?(0,o.Z)({},P,(0,r.Z)({},O,x)):x)}if((0,R.t)(h.kQ.SLIDER,i)){var w,K,k,E,D,T,Q,b,H=(k=(w={filterKey:n,filterOptionMax:f,filterOptionMin:l,filterOptionValueMin:c,filterOptionValueMax:v}).filterOptionMin,E=w.filterOptionMax,D=w.filterOptionValueMin,T=w.filterOptionValueMax,Q=w.filterKey,b=(0,R.t)(E,T)&&(0,R.t)(k,D),(0,o.Z)({},Q,b?void 0:(K={},(0,o.Z)(K,h.LS,D),(0,o.Z)(K,h.o$,T),K)));return(0,r.Z)({},a||F,p?(0,o.Z)({},P,(0,r.Z)({},O,H)):H)}if([h.kQ.BOOLEAN,h.kQ.SWITCH].includes(i)){var A,V,q,N,U=(V=(A={filterItem:y,filterKey:n,filterOptionId:u}).filterItem,q=A.filterKey,N=A.filterOptionId,(0,o.Z)({},q,(0,g.k)(V)?N:void 0));return(0,r.Z)({},a||F,p?(0,o.Z)({},P,(0,r.Z)({},O,U)):U)}if((0,R.t)(h.kQ.CATEGORY_LIST,i)){var B,L,X,_=(L=(B={filterKey:n,filterOptionId:u}).filterKey,X=B.filterOptionId,(0,o.Z)({},L,(0,g.k)(X)?void 0:[X]));return(0,r.Z)({},a||F,p?(0,o.Z)({},P,(0,r.Z)({},O,_)):_)}return(0,r.Z)({},a||F)}({filterKey:n,filterType:a,filterOptionId:l,filterOptionMin:c,filterOptionMax:f,filterOptionValueMin:v,filterOptionValueMax:p,activeFilters:ef});m||b?q({activeFilters:O,shallow:P}):eh(O)},filterClear:L,filterIsModalOpen:ev,filterOpenModal:function(){ep(!0)},filterCloseModal:N,filterSaveChanges:U,filterCancelChanges:B,filterHasChanged:eP,activeSortId:eO,submittedSortId:ey,sortOnClick:function(e){var t=e.sortOptionId;e.shouldSendDataToServer||b?(q({activeFilters:(0,i.Z)((0,r.Z)({},ef),(0,o.Z)({},h.uR,t))}),X()):eh((0,i.Z)((0,r.Z)({},ef),(0,o.Z)({},h.uR,t)))},sortIsModalOpen:eS,sortOpenModal:function(){eM(!0)},sortCloseModal:X,sortSaveChanges:_,sortCancelChanges:j,sortHasChanged:eI,allIsModalOpen:eR,allOpenModal:function(){ew(!0)},allCloseModal:Y,allSaveChanges:function(){_(),U(),Y()},allCancelChanges:function(){j(),B(),Y()},allClear:function(){L(),j(),Y()},onSearch:ek,onPageChange:function(e){eK({newUrl:(0,K.K)({queries:(0,o.Z)({},h.tn,e),url:window.location.href}),scroll:A,appendQuery:!0})},searchOnClearParam:function(){ek(F)},searchParam:eo[h.fH],queryParams:eo,reinitializeQueryParams:function(){eE()},urlParams:el,isReady:et,hasFilter:eu,fragment:eD,changeFragment:function(e){q({fragment:e,activeFilters:ef})}}),tk=(0,a.useMemo)(function(){var e;return tR?null==tR?void 0:null===(e=tR({query:tK.urlParams||{}}))||void 0===e?void 0:e[0]:{apiMethod:tp,apiData:tZ}},[tK.isReady,tK.urlParams,tZ]),tE=(eF=(eT=(0,i.Z)((0,r.Z)({},tk),{queryParams:tK.queryParams,disabled:tg,notHandledByUseSSR:tw||!!tp,onSuccess:tm,onError:th,onPageChange:tK.onPageChange,itemsKey:tP,isPagination:tO,ssrData:(0,p.k)(tM)?null==tM?void 0:tM[0]:tM})).apiMethod,eQ=eT.apiData,eb=eT.queryParams,eH=eT.disabled,eA=eT.onSuccess,eV=eT.onError,eN=void 0===(eq=eT.itemsKey)?"products":eq,eU=eT.isPagination,eB=eT.ssrData,eX=void 0!==(eL=eT.notHandledByUseSSR)&&eL,e_=eT.onPageChange,ej=function(e){var t=e.newPage,n=e.reset,a=I({oldData:(0,i.Z)((0,r.Z)({},e1),{items:ta||n?S:e1.items}),newPage:t,itemsKey:eN});return e2(a),a},eY=(0,C.useRouter)(),ez=(0,a.useRef)(null),eG=(0,a.useRef)(!1),e$=(eW=(0,l.Z)((0,a.useState)(eb.page||1),2))[0],eJ=eW[1],e1=(e0=(0,l.Z)((0,a.useState)(I({oldData:M,newPage:eB,itemsKey:eN})),2))[0],e2=e0[1],(0,a.useEffect)(function(){(null==eb?void 0:eb.page)&&e$!==eb.page&&eJ(null==eb?void 0:eb.page)},[null==eb?void 0:eb.page]),e4=(e9=(0,a.useMemo)(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pager;if(!((0,g.k)(t)||1>+t.pagerCurrentPage||+t.pagerCurrentPage>=+t.pagerTotalPages))return t.pagerCurrentPage+1}(e1.data),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pager;if(!((0,g.k)(t)||2>+t.pagerCurrentPage||+t.pagerCurrentPage>=+t.pagerTotalPages))return t.pagerCurrentPage-1}(e1.data);return{nextPageParam:e,hasNextPage:!!e,previousPageParam:t,hasPreviousPage:!!t}},[e1.data])).nextPageParam,e6=e9.hasNextPage,e7=e9.previousPageParam,e3=e9.hasPreviousPage,e5=(0,a.useMemo)(function(){return(0,r.Z)({},(0,c.s)((0,r.Z)({},eQ||{},eb||{})))},[eQ,eb]),e8=(0,a.useRef)(e5),te=(0,a.useMemo)(function(){return(0,i.Z)((0,r.Z)({},e5),(0,o.Z)({},h.tn,eb.page||e$))},[e5,e$]),tt=(0,a.useRef)(!1),tn=(0,a.useRef)(eX),tr=(0,a.useRef)(e5),ti=void 0!==eH&&eH||!eX&&(eG.current||!tn.current||(0,y.X)(e5,tr.current)&&1===e$),ta=void 0!==eU&&eU||1===e$||tt.current||eb.page,to=function(e){if(e&&(0,d.x)(e)){e2(function(e){return(0,i.Z)((0,r.Z)({},e),{fetched:!0,items:ta?[]:e.items})});return}var t=ej({newPage:e});e8.current=e5,tt.current=!1,eG.current=!1,null==eA||eA(e,t)},tl=(tu=(0,m.V)({apiMethod:eF,apiData:te,onSuccess:to,onError:eV,disabled:ti})).pending,ts=tu.hasError,tf=tu.reload,(0,a.useEffect)(function(){(0,g.k)(eB)||eX||tn.current||(to(eB),tn.current=!0,tr.current=(0,r.Z)({},e5))},[eB]),(0,a.useEffect)(function(){var e=function(e){var t=new URL(e,window.location.href).pathname;eG.current=!(0,y.X)(ez.current,t),ez.current=t};return eY.events.on("routeChangeStart",e),function(){eY.events.off("routeChangeStart",e)}},[]),(0,a.useEffect)(function(){tc({page:(null==eb?void 0:eb.page)||1})},[eY.asPath]),(0,a.useEffect)(function(){ti&&!eX&&(tn.current||(0,y.X)(tr.current,e5))?to(eB):tt.current=!(0,y.X)(e5,e8.current)},[e5]),td=function(e){(0,v.h)(e)&&eJ(e)},tc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,n=void 0===t?1:t,a=e.updatePageParam;e2((0,i.Z)((0,r.Z)({},e1),{fetched:!1,items:[]})),void 0!==a&&a?null==e_||e_(n):e$===n?tf():td(n)},tv=(tl||!e1.fetched||tt.current)&&!ts,(0,i.Z)((0,r.Z)({},e1),{items:ta&&tv?S:e1.items,hasError:ts,pending:tv,hasPreviousPage:e3,hasNextPage:e6,fetchNextPage:function(){e6&&eJ(e4)},fetchPreviousPage:function(){e3&&eJ(e7)},fetchPage:td,addItem:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];e2(function(e){var n=(0,r.Z)({},(null==e?void 0:e.items)||{});return t.forEach(function(e){var t=e.page,r=e.index,i=e.item;n[t]=(0,P.Q)({array:n[t],index:r,item:i})}),(0,i.Z)((0,r.Z)({},e),{items:n})})},removeItem:function(e){var t=e.itemIndex;e2(function(e){var n,a=Object.entries(null==e?void 0:e.items).reduce(function(e,n){var r=(0,l.Z)(n,2),i=r[0],a=r[1];return e.isFound?e:t<a.length+e.count?{page:i,index:t-e.count,isFound:!0}:{count:e.count+a.length}},{count:0}),u=a.page,f=a.index,d=(0,i.Z)((0,r.Z)({},null==e?void 0:e.items),(0,o.Z)({},u,(0,s.Z)((0,O.A)({array:null==e?void 0:null===(n=e.items)||void 0===n?void 0:n[u],index:f}))));return(0,i.Z)((0,r.Z)({},e),{items:d})})},updateItem:function(e){var t=e.itemIndex,n=e.newData;e2(function(e){var a,u,f,d,c,v,Z,g,m=Object.entries(null==e?void 0:e.items).reduce(function(e,n){var r=(0,l.Z)(n,2),i=r[0],a=r[1];return e.isFound?e:t<a.length+e.count?{page:i,index:t-e.count,isFound:!0}:{count:e.count+a.length}},{count:0}),h=m.page,P=m.index,O=(0,i.Z)((0,r.Z)({},null==e?void 0:e.items),(0,o.Z)({},h,(0,s.Z)((f=void 0===(u=(a={array:null==e?void 0:null===(v=e.items)||void 0===v?void 0:v[h],index:P,item:(0,r.Z)({},(null==e?void 0:null===(Z=e.items)||void 0===Z?void 0:null===(g=Z[h])||void 0===g?void 0:g[P])||{},n)}).array)?[]:u,d=a.index,c=a.item,(0,p.k)(f)?(0,s.Z)(f.map(function(e,t){return d===t?c:e})):[]))));return(0,i.Z)((0,r.Z)({},e),{items:O})})},resetItems:tc,page:e$,apiData:te,isAPIDataChangedRef:tt}));return(0,r.Z)({},tE,tK)}}}]);