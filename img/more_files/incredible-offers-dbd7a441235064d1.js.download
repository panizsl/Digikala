(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[123],{90686:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/incredible-offers",function(){return t(56766)}])},56766:function(e,r,t){"use strict";t.r(r),t.d(r,{__getServerSideProps:function(){return J},default:function(){return B}});var s=t(40171),a=t(70865),i=t(96670),n=t(52322),c=t(47072),d=t(2607),o=t(50745),l=t(10076),u=t(21211),f=t(42222),p=t(80418),g=t(64665),m=t(88413),_=t(45756),x=t(82609),b=t(55357),h=t(42306),P=t(41701),I=t(41435),N=t(23154),S=t(24360),O=t(47842),C=t(45227),v=t(93787),y=t(53213),E=t(90917),A=t(92552),D=t(1324),T=t(12694),j=t(64248),R=(0,D.q)({url:"/incredible-offers/",transformer:function(e){var r,t,s=e.data,a=s.categories,i=s.main_categories,n=s.digiplus_incredible_products,c=s.fresh_incredible_products,d=s.early_access_products,o=s.incredible_products_list,l=s.lightening_deal_products,u=s.running_out_incredible_products,f=s.selected_incredible_products;return(0,j.Y)({incredibleOffersCategories:null==a?void 0:null===(r=a.map)||void 0===r?void 0:r.call(a,function(e){return(0,E.n)({data:e})}),incredibleOffersMainCategories:null==i?void 0:null===(t=i.map)||void 0===t?void 0:t.call(i,function(e){return(0,E.n)({data:e})}),incredibleOffersDigiplusIncredibleProducts:(0,v.$)({data:n}),incredibleOffersFreshOffersProducts:(0,v.$)({data:c}),incredibleOffersEarlyAccessProducts:(0,y.D)({data:d}),incredibleOffersIncredibleProducts:(0,A.k)({data:o}),incredibleOffersLightningDealProducts:(0,v.$)({data:l}),incredibleOffersRunningOutIncredibleProducts:(0,v.$)({data:u}),incredibleOffersSelectedIncredibleProducts:(0,v.$)({data:f})})},inputTransformer:function(e){var r=e[C.Tx.CATEGORY_ID];return(0,T.s)((0,O.Z)({},C.Tx.CATEGORY_ID,r))},isPageGetRequest:!0}),L=(0,D.q)({url:"/incredible-offers/products/",transformer:A.k}),Z=t(36637);function M(e){return(0,n.jsx)(Z._,(0,a.Z)({canShowSoldPercentage:!0},e))}var k=t(5632),w=t(35294),q=t(82332),G=t(72677),U=t(31909),Y=t(98723),F=t(10896),$=t(5629),X=t.n($);function H(e){var r=e.category,t=e.isSelected,s=e.className,a=(0,k.useRouter)();return(0,n.jsxs)(Y.r,{to:(0,F.K)({queries:(0,O.Z)({},C.Tx.CATEGORY_ID,r.categoryId),url:a.pathname}),className:(0,G.d)("h-100 d-flex flex-column ai-center py-2 pointer",{"bg-100 radius-md":t},s),children:[(0,n.jsx)(U.E,{image:r.categoryImage,imageClassName:X().Image,className:"mx-3 mb-2 radius-circle"}),(0,n.jsx)("span",{className:"align-center px-1 text-body2-strong color-900",children:r.categoryTitle})]})}function K(e){var r=e.categories,t=e.className,s=(0,k.useRouter)(),a=(r.find(function(e){return(0,q.t)(e.categoryId,s.query[C.Tx.CATEGORY_ID])})||{}).categoryId;return(0,n.jsx)("div",{className:(0,G.d)("d-flex py-5",t),children:(0,n.jsx)(w.l,{items:r.map(function(e){return(0,n.jsx)(H,{category:e,isSelected:(0,q.t)(e.categoryId,a),className:"mr-2"},e.categoryId)}),className:"w-100"})})}var z=(0,P.D)({component:function e(r){var t=r.ssrData,s=(0,x.L)({getSSRMethods:e.getAPIMethods,ssrData:t}),P=s.data,S=s.pending,O=P||{},C=O.incredibleOffersSelectedIncredibleProducts,v=O.incredibleOffersDigiplusIncredibleProducts,y=O.incredibleOffersRunningOutIncredibleProducts,E=O.incredibleOffersLightningDealProducts,A=O.incredibleOffersFreshOffersProducts,D=O.incredibleOffersEarlyAccessProducts,T=O.incredibleOffersCategories,j=O.incredibleOffersMainCategories,R=!!(null==D?void 0:D.productsIsTeasingPhase),L=(0,b.et)(),Z=L.data,k=L.fetchNextPage,w=L.hasNextPage,q=L.items,G=L.pending,U=L.params,Y=L.fetchPage,F=L.pageNumber,$=L.changeParams;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{isStatic:!0,isDesktopStatic:!0,children:(0,n.jsx)(l.e,(0,a.Z)({pending:S,categories:T},C))}),(0,n.jsxs)("div",{className:"px-4 container-4xl-w mx-auto",children:[(0,h.d)(g.X.AMAZING_MAIN_CATEGORIES)&&!(0,I.x)(j)&&(0,n.jsx)(K,{categories:j}),!(0,I.x)(null==y?void 0:y.products)&&(0,n.jsx)(u.O,(0,i.Z)((0,a.Z)({pending:S,productsTitleIcon:"comingSoon"},y),{bigDataCarouselName:m.ke,productCardProps:{canShowSoldPercentage:!0},className:"mt-6"})),!(0,I.x)(null==A?void 0:A.products)&&(0,n.jsx)(o.q,(0,a.Z)({className:"mt-6",mode:o.D.FRESH},A)),(0,h.d)(g.X.PLUS_3115)&&(!(0,I.x)(null==D?void 0:D.products)||R)&&(0,n.jsx)(o.q,(0,a.Z)({mode:R?o.D.PLUS_TEASING_EARLY_ACCESS:o.D.PLUS_EARLY_ACCESS,className:"mt-2",skeletonClassName:"mt-2",CROId:_.h.PLUS_CAROUSEL_INCREDIBLE},D))]}),!(0,I.x)(null==v?void 0:v.products)&&(0,n.jsx)(p.J,(0,a.Z)({pending:S,className:"mt-6",colorSet:"plus",typoType:"plus",productsTitle:"شگفت‌انگیز پلاس",link:null==v?void 0:v.productsSeeMoreUrl},v)),!(0,I.x)(null==E?void 0:E.products)&&(0,n.jsx)(u.O,(0,i.Z)((0,a.Z)({pending:S,className:"mt-6",hasTitleLine:!1},E),{hasProductsContainer:!1,bigDataCarouselName:m.A1,productsTitleIcon:"specialAmazing",productsTitleIconColor:(0,N.$)("color-ad"),titleClassName:"text-body1-strong pt-1"})),(0,n.jsxs)("div",{className:"px-4 container-4xl-w mx-auto mt-5",children:[(0,n.jsx)(c.D,{title:"همه شگفت‌انگیز‌ها",titleClassName:"mt-0 text-h5"}),(0,n.jsx)(f.c,{pages:q,fetchNextPage:k,fetchPage:Y,pageNumber:F,hasNextPage:w,pending:G,changeParams:$,data:Z,params:U,disableClassicPagination:!0,itemComponent:M,shouldHideDesktopSidebar:!(0,h.d)("AMAZING_FILTERS")})]})]})},getAPIMethods:function(e){return[{apiMethod:R,apiData:e.query}]},dataProps:{apiMethod:L,apiData:function(e){return e},disabled:!1,shouldUseLocation:!1,onSuccess:function(e){var r=e.params,t=e.response;(0,S.e)({params:r,response:t,identifier:function(){return{pageName:m.fc}}})}},layoutProps:{desktopFullWidth:!0,chatKey:"incredible-offers"}}),B=z,J=(0,s.I)({getSSRMethods:z.getAPIMethods,queryProps:z.dataProps})},5629:function(e){e.exports={Image:"styles_Image__IEyA_"}}},function(e){e.O(0,[10,6547,5214,9341,86,6057,1678,2222,418,745,2609,2768,9774,2888,179],function(){return e(e.s=90686)}),_N_E=e.O()}]);