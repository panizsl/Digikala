(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7054],{24005:function(e,s,n){"use strict";n.d(s,{d:function(){return t}});var t={LIKE:"like",DISLIKE:"dislike"}},26956:function(e,s,n){"use strict";n.d(s,{x:function(){return u}});var t=n(70865),r=n(96670),a=n(52322),i=n(57931),o=n(98780),l=n(52216),c=n(72677);function u(e){var s=e.className,n=e.likeCount,u=e.dislikeCount,d=e.onLike,m=e.onDislike,x=e.isComments,h=void 0!==x&&x,f=e.isLoadingLike,p=e.isLoadingDislike,w=e.isLike,v=e.isDislike,N=e.thumbsUpProps,g=e.thumbsDownProps,A=(0,c.d)("d-flex ai-center pt-3 color-500",s),j=(0,c.d)("text-body-2 ml-10-lg",{"d-none d-block-lg":!h}),b=(0,c.d)({"color-hint-text-success":w,"color-400":!w}),q=(0,c.d)({"color-hint-text-error":v,"color-400":!v}),k=(0,c.d)("mr-1",{"text-hint-success-text":w,"color-400":!w}),I=(0,c.d)("mr-1",{"color-hint-text-error":v,"color-400":!v});return(0,a.jsxs)("div",{className:A,children:[(0,a.jsxs)("p",{className:j,children:["آیا این ",h?"دیدگاه":"پاسخ"," مفید بود؟"]}),(0,a.jsxs)("div",{className:"mr-auto mr-0-lg d-flex ai-center",children:[(0,a.jsx)(i.z,(0,r.Z)((0,t.Z)({isLoading:f,onClick:d,color:"gray",mode:"link",size:"small",className:b},N),{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:(0,l.U)(void 0===n?0:n)}),(0,a.jsx)(o.J,{icon:"thumbsUp",className:k,size:20,color:w?"success":"low-emphasis"})]})})),(0,a.jsxs)(i.z,(0,r.Z)((0,t.Z)({isLoading:p,onClick:m,color:"gray",mode:"link",removePadding:!0,className:q},g),{children:[(0,a.jsx)("p",{children:(0,l.U)(void 0===u?0:u)}),(0,a.jsx)(o.J,{icon:"thumbsDown",className:I,size:20,color:v?"error":"low-emphasis"})]}))]})]})}},55972:function(e,s,n){"use strict";n.d(s,{M:function(){return f}});var t=n(66383),r=n(52322),a=n(2784),i=n(57931),o=n(98723),l=n(72515),c=n(3463),u=n(11559),d=n(55059),m=n(45227),x=(0,n(1324).q)({type:m.XN.POST,url:function(e){var s=e.questionId;return"questions/".concat(s,"/answer/add/")},transformer:d.u,inputTransformer:function(e){return{answer:e.answer}}}),h=n(85009);function f(e){var s=e.answerModalData,n=e.onClose,d=s||{},m=d.isOpen,f=d.questionId,p=d.questionText,w=d.successCallback,v=(0,t.Z)((0,a.useState)(""),2),N=v[0],g=v[1],A=(0,t.Z)((0,a.useState)(!1),2),j=A[0],b=A[1],q=(0,u.Z)({apiMethod:x}),k=q.request,I=q.pending,_=function(){k({questionId:f,answer:N}).then(function(){n(),w()})};(0,a.useEffect)(function(){m&&g("")},[m]);var y=(0,a.useMemo)(function(){return(0,r.jsxs)("div",{className:"d-flex-lg ai-center jc-between",children:[(0,r.jsx)("div",{className:"w-full 50-lg pl-4-lg",children:(0,r.jsx)(i.z,{size:"large",onClick:_,className:"w-full",disabled:!j,isLoading:I,CROId:"pdp-submit-answer",children:"ثبت پاسخ"})}),(0,r.jsxs)("p",{className:"align-center mt-2 grow-1",children:["ثبت پاسخ به معنی موافقت با",(0,r.jsx)(o.r,{target:"_blank",to:c.m,className:"mx-1 color-secondary-500",children:"قوانین انتشار دیجی‌کالا"}),"است."]})]})},[_]);return(0,r.jsx)(l.Modal,{isFullScreen:!0,isOpen:m,onDismiss:n,headerTitle:"به این پرسش پاسخ دهید",footer:y,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-body-1 mb-4",children:p}),(0,r.jsx)(h.F,{label:"پاسخ",onChange:function(e){g(e)},handleCanSubmit:b,maxLength:500,resetValue:m})]})})}},87221:function(e,s,n){"use strict";n.d(s,{Q:function(){return M}});var t=n(66383),r=n(52322),a=n(2784),i=n(98780),o=n(72677),l=n(41435),c=n(57931),u=n(17165),d=n(45756),m=n(11559),x=n(24005),h=n(55059),f=n(45227),p=n(1324),w=n(12694),v=(0,p.q)({type:f.XN.POST,url:function(e){var s=e.answerId;return"answers/".concat(s,"/like/")},inputTransformer:function(e){var s=e.type;return(0,w.s)({type:s})},transformer:h.u}),N=n(26956),g=n(31909),A=n(61695),j=n(82332);function b(e){var s=e.className,n=e.media,t=n.mediaUrl,a=n.mediaType;return(0,r.jsxs)("div",{className:(0,o.d)(s,"pos-relative"),children:[(0,r.jsx)(g.E,{alt:"question-answer-media",src:t,radius:8,height:50,width:50}),(0,j.t)(a,A.L.VIDEO)&&(0,r.jsx)(i.J,{size:24,className:"pos-absolute bottom-0 left-0",icon:"playSimple",color:"white"})]})}var q={CROId:d.h.PDP_QUESTION_LIKE},k={CROId:d.h.PDP_QUESTION_DISLIKE};function I(e){var s=e.className,n=e.questionAnswer||{},i=n.questionAnswerId,o=n.questionAnswerText,c=n.questionAnswerType,d=n.questionAnswerSender,h=n.questionAnswerUserReaction,f=n.questionAnswerReactionsLikes,p=n.questionAnswerHasQABadge,w=n.questionAnswerReactionsDisLikes,g=n.questionAnswerMedias,A=(0,t.Z)((0,a.useState)(!![h].includes(x.d.LIKE)),2),j=A[0],I=A[1],_=(0,t.Z)((0,a.useState)(!![h].includes(x.d.DISLIKE)),2),y=_[0],L=_[1],C=(0,t.Z)((0,a.useState)({questionAnswerReactionsLikes:f,questionAnswerReactionsDisLikes:w}),2),T=C[0],S=C[1],D=function(e){S({questionAnswerReactionsLikes:null==e?void 0:e.likes,questionAnswerReactionsDisLikes:null==e?void 0:e.dislikes})},E=(0,m.E)({apiMethod:v,onSuccess:D}),z=E.request,M=E.pending,R=(0,m.E)({apiMethod:v,onSuccess:D}),Z=R.request,P=R.pending;return(0,r.jsxs)("div",{className:s,children:[(0,r.jsxs)("div",{className:"d-flex ai-center mt-4 color-600",children:[(0,r.jsx)("p",{className:"text-caption ml-4",children:"پاسخ"}),(0,r.jsx)("div",{className:"grow-1",children:(0,r.jsx)("p",{className:"text-body-1",children:o})})]}),(0,r.jsxs)("div",{className:"d-flex flex-column jc-center mr-10",children:[!(0,l.x)(g)&&(0,r.jsx)("div",{className:"d-flex flex-wrap gap-2 mt-3 mb-3-lg mb-4",children:g.map(function(e){return(0,r.jsx)(b,{media:e})})}),(0,r.jsx)("p",{className:"text-caption color-400",children:d}),p?(0,r.jsx)(u.C,{size:"small",text:"نماینده برند",className:"mr-2",textClasses:"color-000",bgColor:"neutral-400"}):"buyer"===c?(0,r.jsx)(u.C,{size:"small",text:"خریدار",className:"mr-2",textClasses:"color-500",bgColor:"app-background"}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)(N.x,{onLike:function(){z({type:x.d.LIKE,answerId:i}).then(function(e){e.likes>T.questionAnswerReactionsLikes?I(!0):I(!1)}).finally(function(){L(!1)})},isLike:j,className:"mr-auto",onDislike:function(){Z({answerId:i,type:x.d.DISLIKE}).then(function(e){e.dislikes>T.questionAnswerReactionsDisLikes?L(!0):L(!1)}).finally(function(){I(!1)})},isDislike:y,isLoadingLike:M,isLoadingDislike:P,likeCount:null==T?void 0:T.questionAnswerReactionsLikes,dislikeCount:null==T?void 0:T.questionAnswerReactionsDisLikes,thumbsUpProps:q,thumbsDownProps:k})]})]})}var _=n(73739);function y(e){var s=e.className;return(0,r.jsx)(_.k,{className:s,icon:(0,r.jsx)(i.J,{icon:"infoOutline",size:20}),children:"پاسخ شما ثبت شد و پس از بررسی و تایید نمایش داده خواهد شد."})}var L=n(70865),C=n(96670);function T(e){var s=e.openAnswerModal,n=e.buttonText,t=e.buttonProps,a=e.className;return(0,r.jsx)("div",{className:(0,o.d)("mr-10",a),children:(0,r.jsxs)(c.z,(0,C.Z)((0,L.Z)({mode:"text",size:"small",color:"secondary",onClick:s,className:"mt-3 color-secondary-500"},t),{children:[n,(0,r.jsx)(i.J,{icon:"chevronLeft",color:"secondary",size:16,className:"mx-2"})]}))})}function S(e){var s=e.answers,n=e.submitted,t=e.showAllAnswers,a=e.setShowAllAnswers,o=e.openAnswerModal,l=e.className;return t||1===s.length?(0,r.jsxs)("div",{className:l,children:[s.map(function(e){return(0,r.jsx)(I,{className:"br-list-vertical-no-padding",questionAnswer:e},e.questionAnswerId)}),n?(0,r.jsx)(y,{}):(0,r.jsx)(T,{className:"border-t mt-4",buttonText:"ثبت پاسخ جدید",openAnswerModal:o})]}):s.length>1?(0,r.jsxs)("div",{className:l,children:[(0,r.jsx)(I,{questionAnswer:s[0]}),(0,r.jsxs)(c.z,{shape:"text",color:"secondary",onClick:function(){a(!0)},className:"mt-2 mb-3 pr-0 mr-10 font-bold color-secondary-500",children:["مشاهده‌ی پاسخ‌های دیگر",(0,r.jsx)(i.J,{icon:"expandMore",color:"secondary",className:"mx-2",size:24})]})]}):null}var D=n(89086);function E(e){var s=e.submitted,n=e.openAnswerModal,t=e.className;return s?(0,r.jsx)(y,{className:(0,o.d)("mt-4",t)}):(0,r.jsx)(T,{buttonText:"ثبت پاسخ‌",buttonProps:(0,D.t6)("pdp-answer"),className:(0,o.d)("border-t mt-4",t),openAnswerModal:n})}var z=(0,a.memo)(function(e){var s=e.answers,n=e.questionId,i=e.questionText,o=e.showAllAnswers,c=e.setShowAllAnswers,u=e.openAnswerModal,d=(0,t.Z)((0,a.useState)(!1),2),m=d[0],x=d[1],h=function(){x(!0)};(0,a.useEffect)(function(){},[m]);var f=function(){u({questionId:n,questionText:i,successCallback:h})};return(0,r.jsx)(r.Fragment,{children:(0,l.x)(s)?(0,r.jsx)(E,{submitted:m,openAnswerModal:f}):(0,r.jsx)(S,{answers:s,submitted:m,showAllAnswers:o,setShowAllAnswers:c,openAnswerModal:f})})});function M(e){var s=e.className,n=e.question,l=e.openAnswerModal,c=n||{},u=c.questionAnswers,d=c.questionText,m=c.questionId,x=(0,t.Z)((0,a.useState)(!1),2),h=x[0],f=x[1];return(0,r.jsxs)("article",{className:(0,o.d)(s,"py-3"),children:[(0,r.jsxs)("div",{className:"d-flex ai-start",children:[(0,r.jsx)("span",{className:"mt-1 ml-4",children:(0,r.jsx)(i.J,{icon:"question",color:"secondary",size:24})}),(0,r.jsx)("p",{className:"text-subtitle w-full",children:d})]}),(0,r.jsx)(z,{questionId:m,answers:u,questionText:d,showAllAnswers:h,setShowAllAnswers:f,openAnswerModal:l})]})}},85009:function(e,s,n){"use strict";n.d(s,{F:function(){return l}});var t=n(66383),r=n(52322),a=n(2784),i=n(47),o=n(52216),l=(0,a.forwardRef)(function(e,s){var n=e.label,l=e.onChange,c=e.maxLength,u=e.className,d=e.handleCanSubmit,m=e.resetValue,x=void 0===m||m,h=(0,t.Z)((0,a.useState)(""),2),f=h[0],p=h[1];(0,a.useImperativeHandle)(s,function(){return{resetInput:w}},[]),(0,a.useEffect)(function(){d(f.length>0&&f.length<=c&&f.trim().length>6),l&&l(f)},[f,c]),(0,a.useEffect)(function(){x&&p("")},[x]);var w=function(){p("")};return(0,r.jsxs)("div",{className:u,children:[(0,r.jsx)(i.K,{value:f,label:n,maxLength:c,onChange:function(e){p(e.target.value)},className:"text-body-2 w-full"}),(0,r.jsxs)("div",{className:"color-400 text-body-2 mr-4 align-left",children:[(0,o.U)(c),"/",(0,o.U)(f.length)]})]})})},55059:function(e,s,n){"use strict";function t(e){var s=e.data||{};return{dislikes:s.dislikes,likes:s.likes}}n.d(s,{u:function(){return t}})},47:function(e,s,n){"use strict";n.d(s,{K:function(){return x}});var t=n(70865),r=n(52322),a=n(96670),i=n(26297),o=n(2784),l=n(9280),c=n(471),u=n(50158),d=n.n(u),m=(0,o.forwardRef)(function(e,s){var n=e.name,o=e.label,u=e.size,m=e.disabled,x=e.required,h=e.error,f=e.helper,p=e.successPhrase,w=e.fullWidth,v=e.placeholder,N=e.containerClassName,g=e.textareaClassName,A=e.className,j=(0,i.Z)(e,["name","label","size","disabled","required","error","helper","successPhrase","fullWidth","placeholder","containerClassName","textareaClassName","className"]);return(0,r.jsx)(l.Z,{size:u,label:o,disabled:m,required:x,error:h,helper:f,successPhrase:p,fullWidth:w,containerClassName:(0,c.dh)("px-2 bg-100 bg-000-lg",d().TextareaInput__container,d().TextareaInput__frameHeightAuto,N),labelClassName:"mr-4 text-body-1 color-700",helperClassName:"mt-2 pr-3 text-body-1 color-400",errorClassName:"mt-2 pr-3 text-body-2 color-hint-text-error",requiredClassName:"color-primary-500",className:A,children:(0,r.jsx)("textarea",(0,a.Z)((0,t.Z)({},j),{className:(0,c.dh)("py-2 px-3 text-subtitle w-100",d().TextareaInput__textarea,g),name:n,disabled:m,onKeyDown:function(e){if(""===e.target.value.trim()){e.target.style.height="auto";return}e.target.style.height="".concat(e.target.scrollHeight,"px")},placeholder:v,ref:s}))})});function x(e){return(0,r.jsx)(m,(0,t.Z)({},e))}},45507:function(e,s,n){"use strict";n.d(s,{v:function(){return r}});var t=n(95976);function r(e){var s=e.data||{},n=s.id,r=s.text,a=s.answer_count,i=s.sender,o=s.created_at,l=s.answers;return{questionId:n,questionText:r,questionAnswerCount:a,questionSender:i,questionCreatedAt:o,questionAnswers:null==l?void 0:l.map(function(e){var s,n,r,a,i,o,l,c,u,d,m,x,h,f;return r=(n=e||{}).id,a=n.has_qa_badge,i=n.text,o=n.reactions,l=n.created_at,c=n.sender,u=n.type,d=n.user_reaction,m=n.files,h=(x=o||{}).likes,f=x.dislikes,{questionAnswerId:r,questionAnswerHasQABadge:!!a,questionAnswerText:i,questionAnswerReactions:{likes:(s=o||{}).likes,dislikes:s.dislikes},questionAnswerCreatedAt:l,questionAnswerSender:c,questionAnswerType:u,questionAnswerUserReaction:d,questionAnswerMedias:(void 0===m?[]:m).map(function(e){return(0,t.w)({data:e})}),questionAnswerReactionsLikes:h,questionAnswerReactionsDisLikes:f}})}}},95976:function(e,s,n){"use strict";n.d(s,{w:function(){return r}});var t=n(61695);function r(e){var s=e.data||{},n=s.storage_ids,r=s.url,a=s.temporary_id,i=s.thumbnail_url;return{mediaStorageIds:n||[],mediaUrl:null==r?void 0:r[0],mediaTemporaryId:a,mediaThumbnailUrl:(null==i?void 0:i[0])||"",mediaType:function(e){var s,n,r,a;if(!e)return t.L.UNKNOWN;switch(null===(s=/(\w+)\.([1-9A-Za-z]{3,4})(?=\?|$)/.exec(e))||void 0===s?void 0:null===(n=s.slice)||void 0===n?void 0:null===(r=n.call(s,-1))||void 0===r?void 0:null===(a=r[0])||void 0===a?void 0:a.toLowerCase()){case"jpg":case"jpeg":case"svg":case"png":return t.L.IMAGE;case"mp4":case"mkv":case"webm":return t.L.VIDEO;default:return t.L.UNKNOWN}}(null==r?void 0:r[0])}}},50158:function(e){e.exports={TextareaInput__textarea:"styles_TextareaInput__textarea__khhNw",TextareaInput__container:"styles_TextareaInput__container__P2qv5",TextareaInput__frameHeightAuto:"styles_TextareaInput__frameHeightAuto__RoBbE"}}}]);