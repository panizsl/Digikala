(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8406],{42433:function(e,i,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/digiclub/missions",function(){return s(72286)}])},72286:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return em}});var n=s(2784),t=s(52322),a=s(73739),l=s(47072),o=s(2607),r=s(64665),d=s(24870),c=s(72873),m=s(42306),u=s(41701),x=s(5582),g=s(20804),p=s(77328),f=s(25388),h=s(70582),_=s(79968),v=s(1324);function b(e){var i=e.data||{},s=i.description,n=i.reward,t=i.title,a=i.url,l=i.url_label,o=i.image;return{missionDescription:s,missionImage:(0,h.W)({data:o}),missionReward:n,missionTitle:t,missionUrl:(0,_.f)({data:a}),missionUrlLabel:l}}var j=(0,v.q)({url:"digiclub/missions/",transformer:function(e){var i=e.data||{},s=i.banners,n=i.pending_points,t=i.missions||{},a=t.complete,l=t.incomplete;return{banners:(null==s?void 0:s.map(function(e){return(0,f.C)({data:e})}))||[],pendingPoints:null==n?void 0:n.map(function(e){var i;return{pendingPointId:(i=e||{}).id,pendingPointTitle:i.title,pendingPointPoints:i.points,pendingPointCreatedAt:i.created_at}}),missionsCompleted:null==a?void 0:a.map(function(e){return b({data:e})}),missionsUncompleted:null==l?void 0:l.map(function(e){return b({data:e})})}}}),N=s(47842),w=s(59437),y=s(98780),C=s(31909),M=s(52216),I=s(72677),P=s(52133),T=s.n(P);function E(e){var i=e.completed,s=void 0!==i&&i,n=e.className,a=e.mission||{},l=a.missionUrl,o=a.missionImage,r=a.missionTitle,d=a.missionReward,c=a.missionUrlLabel,m=a.missionDescription,u={main:(0,I.d)("pos-relative d-flex-lg radius-large border border-200 mb-5 overflow-hidden",T().MissionCard,n),dscription:(0,I.d)("w-full color-700 text-body-2",T().MissionCard__Description),imageContainer:(0,I.d)("d-flex ai-center jc-center bg-000 w-full overflow-hidden",T().MissionCard__ImageContainer),image:(0,I.d)("w-full h-full",(0,N.Z)({},T().MissionCard__ImageCompleted,s)),icon:(0,I.d)("pos-absolute bg-000 radius-circle",T().MissionCard__Icon)};return(0,t.jsxs)("div",{className:u.main,children:[(0,t.jsx)("div",{className:u.imageContainer,children:(0,t.jsx)(C.E,{objectFit:"cover",alt:"missions card",image:o,imageClassName:u.image,className:"w-full h-full"})}),s&&(0,t.jsx)(y.J,{size:40,icon:"active",color:"success",className:u.icon}),(0,t.jsxs)("div",{className:"w-full d-flex flex-column p-4 jc-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"w-full text-body1-strong",children:(0,M.U)(r)}),!!m&&(0,t.jsx)("div",{className:u.dscription,children:(0,M.U)(m)})]}),(0,t.jsxs)("div",{className:"w-full d-flex flex-column flex-row-lg ai-center-lg jc-between-lg mt-2 user-select-none",children:[d>0&&(0,t.jsxs)("div",{className:"d-flex ai-center mb-2 mb-0-lg color-hint-text-caution",children:[(0,t.jsx)(C.E,{width:24,height:24,alt:"دیجی‌کلاب",className:"object-contain ml-2",src:"/statics/img/svg/club-point.svg"}),(0,t.jsx)("div",{className:"text-h4-extra ml-1",children:(0,M.U)(d)}),(0,t.jsx)("span",{className:"text-caption-extra",children:"امتیاز"})]}),!s&&l&&c&&(0,t.jsx)(w.e,{href:l,className:"mr-auto",children:(0,t.jsxs)("div",{className:"w-full d-flex ai-center jc-end color-secondary-500 text-body-1",children:[c,(0,t.jsx)(y.J,{icon:"chevronLeft",color:"secondary",size:21})]})})]})]})]})}var D=s(57931),S=s(11559),R=(0,v.q)({url:"digiclub/dynamic-daily-mission/",transformer:function(e){var i=e.data||{},s=i.mission_id,n=i.icon,t=i.reward_type,a=i.rewards,l=i.title,o=i.has_participated,r=i.total_reward_value;return{dailyMissionId:s,dailyMissionIcon:(0,h.W)({data:n}),dailyMissionRewardType:t,dailyMissionRewards:(null==a?void 0:a.map(function(e){var i,s,n,t,a,l;return s=(i=e||{}).is_active,n=i.icon,t=i.reward_value,a=i.status,l=i.title,{isRewardActive:!!s,rewardIcon:(0,h.W)({data:n}),rewardValue:t,rewardStatus:a,rewardTitle:l}}))||[],dailyMissionTitle:l,isTodayDailyMissionRewardClaimed:!!o,dailyMissionTotalReward:r}}}),A=s(45227),L=(0,v.q)({type:A.XN.POST,url:"digiclub/dynamic-daily-mission/",inputTransformer:function(e){return{mission_id:(e||{}).dailyMissionId}}}),U=s(85044),k=s.n(U),G={ACTIVE:"active",CLAIMED:"claimed",UNCLAIMED:"unclaimed"};function z(e){var i,s=e.reward||{},n=s.rewardIcon,a=s.rewardTitle,l=s.rewardStatus,o=s.rewardValue,r=(i={},(0,N.Z)(i,G.ACTIVE,{TITLE:(0,I.d)("text-h3-extra"),CONTAINER:(0,I.d)("border-2",k().dailyMissionRewardItem__activeReward)}),(0,N.Z)(i,G.CLAIMED,{TITLE:(0,I.d)("text-h3 color-400"),CONTAINER:(0,I.d)("bg-100")}),(0,N.Z)(i,G.UNCLAIMED,{TITLE:(0,I.d)("text-h3"),CONTAINER:(0,I.d)("bg-000 border-200")}),i);return(0,t.jsxs)("div",{className:"d-flex flex-column ai-center",children:[(0,t.jsxs)("div",{className:(0,I.d)(k().dailyMissionRewardItem__item,r[l].CONTAINER,"d-flex flex-column jc-around ai-center radius-md mb-2"),children:[(0,t.jsxs)("div",{className:r[l].TITLE,children:[(0,M.U)(o),"+"]}),(0,t.jsx)(C.E,{width:32,height:32,image:n})]}),(0,t.jsx)("p",{className:"text-body-1",children:a})]})}var O=s(99693),q=s.n(O);function Z(e){var i=e.className,s=function(e){r({dailyMissionId:e})},n=(0,c.V)({apiMethod:R}),a=n.data,l=n.reload,o=(0,S.E)({apiMethod:L,onSuccess:function(){l()}}),r=o.request,d=o.pending,m=a||{},u=m.dailyMissionRewards,x=m.isTodayDailyMissionRewardClaimed,g=m.dailyMissionId,p=m.dailyMissionTotalReward,f=m.dailyMissionTitle,h=m.dailyMissionIcon;return(0,t.jsxs)("div",{className:(0,I.d)(i,q().dailyMission__dailyMissionWrapper,"user-select-none pos-relative d-flex flex-column p-5 jc-around"),children:[(0,t.jsxs)("div",{className:"d-flex ml-auto mb-10 ai-center",children:[(0,t.jsx)(C.E,{image:h,height:50,width:50}),(0,t.jsx)("div",{className:"text-h5 mr-3",children:f})]}),(0,t.jsx)("div",{className:"d-flex flex-row jc-around ai-center px-20-lg px-1 flex-wrap mb-10",children:null==u?void 0:u.map(function(e){return(0,t.jsx)(z,{reward:e})})}),x?(0,t.jsxs)("div",{className:"d-flex flex-column ai-center",children:[(0,t.jsx)("div",{className:"text-button-1 color-secondary-700",children:"برای بیشترین امتیاز، ۷ روز متوالی سر بزنید!"}),(0,t.jsxs)("div",{className:"p-2 radius-12 color-hint-text-caution bg-000 d-flex ai-center",children:[(0,t.jsx)("span",{className:"ml-1",children:"تاحالا"}),(0,M.U)(p),(0,t.jsx)(y.J,{className:"mx-1",size:20,icon:"/statics/img/svg/club/digiclub-icon.svg"}),(0,t.jsx)("span",{children:"امتیاز گرفته اید!"})]})]}):(0,t.jsx)(D.z,{color:"secondary",className:"w-25-lg w-50 mx-auto",disabled:d,label:"دریافت امتیاز امروز",onClick:function(){s(g)}})]})}var B=s(48397),W=s.n(B);function J(e){var i=e.className,s=e.game||{},n=s.url,a=s.imageSrc,l=s.title,o=s.isActive,r=s.description,d={main:(0,I.d)("w-full radius bg-000 border border-200 p-4-lg user-select-none overflow-hidden",W().missionGameCard,i),description:(0,I.d)("w-full text-body-1 mb-2 text-justify",W().missionGameCard__Description),deactiveEnterBtn:(0,I.d)("text-body2-strong color-500 radius-large px-3",W()["missionGameCard__deactive-btn"])};return(0,t.jsxs)("div",{className:d.main,children:[(0,t.jsx)(C.E,{objectFit:"cover",src:a,height:188,alt:"Missions Game Card",className:"radius-medium-lg mb-4-lg min-w-full overflow-hidden",imageClassName:"w-full"}),(0,t.jsxs)("div",{className:"w-full d-flex flex-column color-900 p-4 p-0-lg",children:[(0,t.jsx)("div",{className:"w-full font-bold text-h3 mb-2",children:l}),(0,t.jsx)("div",{className:d.description,children:(0,M.U)(r)}),(0,t.jsx)("div",{className:"w-full d-flex ai-center jc-end",children:o?(0,t.jsx)(w.e,{href:n,mode:"anchor",className:"d-flex ai-center text-button-1 color-secondary-500",children:"ورود به بازی"}):(0,t.jsx)("div",{className:d.deactiveEnterBtn,children:"به زودی"})})]})]})}var V=s(66383),X=s(43997),F=s(72610),Y=s(77506),H=s(63541),K=(0,v.q)({type:A.XN.POST,transformer:function(e){var i=e.data;return{digiclubPoints:null==i?void 0:i.digiclub_points}},url:function(e){var i=e.id;return"digiclub/pending-points/".concat(i,"/claim/")}}),Q=s(48631),$=s.n(Q);function ee(e){var i=e.className,s=e.onGetPoint,a=void 0===s?H.ZT:s,l=e.pendingPoint,o=l.pendingPointId,r=l.pendingPointTitle,d=l.pendingPointPoints,c=l.pendingPointCreatedAt,m=(0,V.Z)((0,n.useState)(!1),2),u=m[0],x=m[1],g=(0,S.E)({apiMethod:K}),p=g.request,f=g.pending,h=(0,X.I0)(),_=(0,I.d)("user-select-none d-flex ai-start ai-center-lg jc-between flex-column flex-row-lg p-3 p-4-lg radius-large mb-5",{"d-none":u},$().PendingPointCard,i);return(0,t.jsxs)("div",{className:_,children:[(0,t.jsxs)("div",{className:"d-flex ai-center flex-column flex-row-lg",children:[(0,t.jsxs)("div",{className:"d-flex ai-center",children:[(0,t.jsx)(y.J,{icon:"active",size:32,color:"success"}),(0,t.jsx)("div",{className:"text-body1-strong mr-2 mr-3-lg color-800",children:(0,M.U)(r)})]}),(0,t.jsxs)("div",{className:"color-500 mr-6-lg text-caption",children:["انجام شده در ",(0,M.U)(c)]})]}),u?(0,t.jsx)("div",{className:(0,I.d)("w-full w-unset-lg mt-4 mt-0-lg jc-center d-flex ai-center text-body2-strong color-400 radius py-2",$().PendingPointCard__button),children:"دریافت شده"}):(0,t.jsx)("button",{className:(0,I.d)("w-full w-unset-lg mt-4 mt-0-lg jc-center d-flex ai-center text-body2-strong bg-secondary-700 color-000 radius py-2",$().PendingPointCard__button),onClick:function(){p({id:o}).then(function(e){h((0,Y.Sz)(e)),x(!0),a()})},children:f?(0,t.jsx)(F.g,{color:"white",width:30}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.E,{width:24,height:24,alt:"دیجی‌کلاب",className:"ml-2",src:"/statics/img/svg/club-point.svg"}),"دریافت ",(0,M.U)(d)," امتیاز"]})})]})}var ei=s(5384),es=s(6013),en=s(53548);function et(e){var i=e.data||{};return{points:i.points,participated:!!i.participated}}var ea=(0,v.q)({url:"digiclub/click-campaigns/club-daily-points/",transformer:et}),el=(0,v.q)({type:A.XN.POST,url:"digiclub/click-campaigns/club-daily-points/",transformer:et}),eo=s(68445),er=s.n(eo);function ed(e){var i=e.className,s=(0,X.v9)(es.p.isLoggedIn),a=(0,X.v9)(es.p.digiclubData).digiclubIsActivated,l=(0,V.Z)((0,n.useState)(!1),2),o=l[0],r=l[1],d=(0,V.Z)((0,n.useState)({points:0,participated:!1}),2),c=d[0],m=d[1],u=(0,S.E)({apiMethod:ea,onSuccess:function(e){m(e)}}).request,x=(0,S.E)({apiMethod:el,onSuccess:function(e){m(e)}}),g=x.request,p=x.pending;return(0,n.useEffect)(function(){u()},[]),(0,t.jsxs)("div",{className:(0,I.d)("radius-large p-5 user-select-none pos-relative mx-auto",er().DigiclubTodayPoints,i),children:[(0,t.jsx)(C.E,{alt:"",className:(0,I.d)("pos-absolute left-0 top-0"),src:"/statics/img/svg/club/DigiClubGetPointTodayPattern.svg"}),(0,t.jsx)("div",{className:(0,I.d)("w-full d-flex ai-center jc-center color-000 flex-wrap flex-row-lg flex-column mb-5",er().DigiclubTodayPoints__Title),children:(0,t.jsx)("h3",{className:"text-h3-extra",children:"دریافت امتیاز روزانه در دیجی‌کلاب"})}),(0,t.jsxs)("div",{className:"w-full radius py-4 px-5 d-flex ai-center bg-000 jc-between flex-wrap flex-nowrap-lg pos-relative",children:[(0,t.jsx)("div",{className:"d-flex flex-column",children:(0,t.jsx)("h3",{className:"text-body1-strong",children:"روزانه یک امتیاز پیش ما دارید!"})}),(0,t.jsxs)(D.z,{shape:"text",color:"black",size:"medium",to:(0,en.U)({toLoginRegisterRoute:!0}),className:(0,I.d)({"hidden d-none":s}),children:[(0,t.jsx)(y.J,{icon:"registerationSignIn",color:"high-emphasis",className:"ml-2",size:24}),"ورود به سایت"]}),c.participated?(0,t.jsxs)("div",{className:(0,I.d)("text-h5 d-flex ai-center",{"hidden d-none":!s}),children:[(0,t.jsx)("span",{className:"pl-2 font-bold text-h2",children:(0,M.U)(c.points)}),"امتیاز گرفته‌اید"]}):(0,t.jsx)("button",{className:(0,I.d)("w-full w-unset-lg mt-4 mt-0-lg jc-center d-flex ai-center text-body2-strong bg-secondary-700 color-000 radius py-2",{"hidden d-none":!s},er().DigiclubTodayPoints__Button),onClick:function(){a?g():r(!0)},children:p?(0,t.jsx)(F.g,{color:"white",width:30}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.E,{width:24,height:24,alt:"دیجی‌کلاب",className:"ml-2",src:"/statics/img/svg/club-point.svg"}),"امتیاز امروز من"]})})]}),(0,t.jsx)(ei.e,{isShowModal:o,onDismiss:function(){r(!1)},reload:function(){g()}})]})}var ec=[{imageSrc:"/statics/img/png/digiclub/missonsBanner/digipoly.jpg",isActive:!0,title:"بازی دیجی‌پلی",url:"/digiclub/game-center/digipoly/",description:"توی این بازی هرچی بیشتر تاس بندازی جایزه‌های بیشتری می‌بری و شانست هم برای رسیدن به گاوصندوق و جایزه‌ی بزرگ زیادتر میشه"},{imageSrc:"/statics/img/png/digiclub/missonsBanner/wheel-spinner.png",isActive:!0,title:"چرخ و بخت",url:"https://games.digikala.com/digiclub/wheel-spinner",description:"چرخ و بخت هر ماه یک عالمه برنده و جوایز ویژه داره. فقط کافیه هر روز شانست رو امتحان کنی و گردونه رو بچرخونی."},{imageSrc:"/statics/img/png/digiclub/missonsBanner/seedling-hope.png",isActive:!0,title:"به خاطر بلوط‌ها",url:"/digiclub/game-center/seedling-hope/",description:"به‌خاطر بلوط‌ها فرصتیه که از زمین نگهبانی کنی، در جلوگیری از نابودی هزاران درخت بلوط سهیم بشی و طبیعت رو در امان نگه داری."}],em=(0,u.D)({component:function(){var e,i=(0,c.V)({apiMethod:j}),s=i.data,n=i.reload,u=s||{},f=u.banners,h=u.missionsCompleted,_=u.missionsUncompleted,v=u.pendingPoints;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Z,{isDesktopFixed:!0,isStatic:!0,children:(0,t.jsx)(g.h,{activeKey:d.H.MISSIONS})}),(0,m.d)(r.X.EXPIRING_CLUB_POINTS)&&(0,t.jsx)(x.a,{}),(0,t.jsx)(p.Y,{isWideSlide:!0,items:f,autoplay:{delay:5e3},className:"w-full px-3 px-0-lg"}),(0,t.jsxs)("div",{className:"mt-10 mx-auto px-4 px-0-2xl",children:[(0,m.d)(r.X.DAILY_MISSIONS)?(0,t.jsx)(Z,{}):(0,t.jsx)(ed,{}),v&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.D,{withLine:!0,color:"blue",className:"mb-5 mt-10",title:"جایزه های شما",titleClassName:"text-h3"}),(0,t.jsx)(a.k,{color:"yellow",mode:"outline",className:"mb-5 select-none",icon:"infoOutline",children:"اعتبار جایزه هر ماموریت تنها ۷ روز پس از انجام آن می‌باشد پس زودتر جایزه ها را دریافت کنید."}),null==v?void 0:v.map(function(i,s){return(0,t.jsx)(ee,{pendingPoint:i,onGetPoint:n},"".concat(null!==(e=i.pendingPointId)&&void 0!==e?e:s))})]}),(0,t.jsx)(l.D,{withLine:!0,color:"blue",className:"mb-5",title:"ماموریت‌ها",titleClassName:"text-h3"}),null==_?void 0:_.map(function(e,i){return(0,t.jsx)(E,{mission:e},i)}),h&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.D,{withLine:!0,color:"blue",className:"mb-5",titleClassName:"text-h3",title:"ماموریت‌های کامل شده"}),null==h?void 0:h.map(function(e,i){return(0,t.jsx)(E,{completed:!0,mission:e},i)})]}),(0,t.jsx)(l.D,{withLine:!0,color:"blue",className:"mb-5",title:"دنیای بازی",titleClassName:"text-h3"}),(0,t.jsx)("div",{id:"GAMES",className:"d-grid-lg grid-cols-3 gap-6-lg",children:ec.map(function(e,i){return(0,t.jsx)(J,{game:e,className:"mb-4"},i)})})]})]})},layoutProps:{desktopContentWidth:"lg",chatKey:"digiclub"}})},5384:function(e,i,s){"use strict";s.d(i,{e:function(){return f}});var n=s(66383),t=s(52322),a=s(2784),l=s(72677),o=s(88885),r=s(3463),d=s(77506),c=s(59437),m=s(57931),u=s(44806),x=s(98780),g=s(31909),p=s(72515);function f(e){var i=e.reload,s=void 0===i?function(){}:i,f=e.isShowModal,h=e.onDismiss,_=e.className,v=(0,n.Z)((0,a.useState)(!1),2),b=v[0],j=v[1];(0,a.useEffect)(function(){j(!1)},[f]);var N=(0,o.JV)({action:d.fY}),w=N.request,y=N.pending,C=(0,l.d)("bg-000 w-full pos-relative-lg user-select-none",_);return(0,t.jsx)(p.Modal,{isOpen:f,onDismiss:h,headerTitle:"فعال‌سازی دیجی‌کلاب",children:(0,t.jsxs)("div",{className:C,children:[(0,t.jsx)(g.E,{alt:"",width:200,className:"mx-auto",src:"/statics/img/svg/club/activation.svg"}),(0,t.jsx)("h4",{className:"color-800 text-h4 align-center mb-2",children:"به دیجی‌کلاب خوش آمدید!"}),(0,t.jsxs)("p",{className:"text-body-1 color-700",children:["دیجی‌کالایی عزیز، برای فعال شدن حساب کاربری دیجی‌کلاب خود",(0,t.jsx)(c.e,{size:"small",href:r.A2,target:"_blank",className:"mx-1 d-inline-block-lg color-secondary-500",children:"شرایط و قوانین"}),"دیجی‌کلاب را مطالعه کنید. در صورت تایید شرایط و قوانین، امتیازهای شما در هر خرید، ثبت نظر و دعوت از دوستان طبق قواعد دیجی‌کلاب محاسبه می گردد. در صورت عدم تایید، حساب کاربری شما غیرفعال میگردد."]}),(0,t.jsxs)("label",{className:"d-flex pointer mt-6",children:[(0,t.jsx)(u.X,{name:"accept",onChange:function(){j(function(){return!b})}}),(0,t.jsx)("span",{className:"mr-4 text-body-1 color-700",children:"قبول شرایط و قوانین دیجی‌کلاب"})]}),(0,t.jsxs)(m.z,{size:"large",isLoading:y,onClick:function(){w().then(function(){h(),s()}).catch(function(){h()})},disabled:!b,className:"w-full mt-4",children:[(0,t.jsx)("div",{className:"text-body-1",children:"فعال‌سازی"}),(0,t.jsx)(x.J,{icon:"arrowLeft",size:24,color:"white",className:"mr-3"})]})]})})}},52133:function(e){e.exports={MissionCard__ImageContainer:"styles_MissionCard__ImageContainer__QH9t7",MissionCard__ImageCompleted:"styles_MissionCard__ImageCompleted__tbbzv",MissionCard__Icon:"styles_MissionCard__Icon__OQM2V",MissionCard__Description:"styles_MissionCard__Description__x58la"}},85044:function(e){e.exports={dailyMissionRewardItem__item:"style_dailyMissionRewardItem__item__4TWCm",dailyMissionRewardItem__activeReward:"style_dailyMissionRewardItem__activeReward__GWPAS"}},99693:function(e){e.exports={dailyMission__dailyMissionWrapper:"styles_dailyMission__dailyMissionWrapper__Up7ta"}},48397:function(e){e.exports={missionGameCard:"styles_missionGameCard__DtINJ","missionGameCard__deactive-btn":"styles_missionGameCard__deactive-btn__3cC6a",missionGameCard__Description:"styles_missionGameCard__Description__zjvv2"}},48631:function(e){e.exports={PendingPointCard:"styles_PendingPointCard__r54JM",PendingPointCard__button:"styles_PendingPointCard__button__c3Mf6"}},68445:function(e){e.exports={DigiclubTodayPoints:"styles_DigiclubTodayPoints__SAvV6",DigiclubTodayPoints__Title:"styles_DigiclubTodayPoints__Title__Zmb8c",DigiclubTodayPoints__Button:"styles_DigiclubTodayPoints__Button__BA9aD"}}},function(e){e.O(0,[5399,9774,2888,179],function(){return e(e.s=42433)}),_N_E=e.O()}]);